script:
################################
#                              #
#              TV              #
#                              #
################################

  netflix_on:
    alias: TV - Netflix
    sequence:
      - service: media_player.select_source
        data:
          entity_id: media_player.tv_sala
          source: 'Netflix' 

  plex_on:
    alias: TV - Plex
    sequence:
      - service: media_player.select_source
        data:
          entity_id: media_player.tv_sala
          source: 'Plex' 

  youtube_on:
    alias: TV - YouTube
    sequence:
      - service: media_player.select_source
        data:
          entity_id: media_player.tv_sala
          source: 'YouTube' 

  appletv_on:
    alias: TV - AppleTV
    sequence:
      - service: media_player.turn_on
        data:
          entity_id: media_player.appletv_soggiorno
      - service: media_player.select_source
        data:
          entity_id: media_player.tv_sala
          source: 'HDMI1' 

#  apple_tv_on:
#    alias: Apple TV ON
#    sequence:
#      - choose:
#          - conditions:
#              - condition: state
#                entity_id: media_player.tv_sala
#                state: "off"
#            sequence:
#              - service: media_player.turn_on
#                entity_id: media_player.tv_sala
#              - delay: '00:00:15'
#              - service: homeassistant.update_entity
#                entity_id: media_player.tv_sala
#      - wait_template: "{{ state_attr('media_player.tv_sala', 'source') }}"
#        timeout: '00:00:08'
#      - delay: '00:00:01'
#      - service: media_player.select_source
#        data:
#          entity_id: media_player.tv_sala
#          source: 'HDMI1' 
          
  play:
    alias: TV - Play
    sequence:
      - service: media_player.media_play
        data:
          entity_id: media_player.tv_sala
      - service: media_player.media_play
        data:
          entity_id: media_player.appletv_soggiorno

  pause:
    alias: TV - Pause
    sequence:
      - service: media_player.media_pause
        data:
          entity_id: media_player.tv_sala
      - service: media_player.media_pause
        data:
          entity_id: media_player.appletv_soggiorno

  tv_on:
    alias: TV - ON
    sequence:
      - service: media_player.turn_on
        data: 
          entity_id: media_player.tv_sala

  tv_off:
    alias: TV - OFF
    sequence:
      - service: media_player.turn_off
        data: 
          entity_id: media_player.tv_sala

  tv_volume_up:
    alias: TV - Volume Up
    sequence:
      - repeat:
          count: 5
          sequence:
            - service: media_player.volume_up
              data: 
                entity_id: media_player.tv_sala  

  tv_volume_down:
    alias: TV - Volume Down
    sequence:
      - repeat:
          count: 5
          sequence:
            - service: media_player.volume_down
              data: 
                entity_id: media_player.tv_sala
  
  #Volumi TV
  tv_volume_muto:
    alias: TV - Volume Muto
    sequence:
      - service: media_player.volume_mute
        data: 
          entity_id: media_player.tv_sala
  tv_volume_10:
    alias: TV - Volume 10
    sequence:
      - service: media_player.volume_set
        data: 
          entity_id: media_player.tv_sala
          volume_level: 0.1
  tv_volume_20:
    alias: TV - Volume 20
    sequence:
      - service: media_player.volume_set
        data: 
          entity_id: media_player.tv_sala
          volume_level: 0.2
  tv_volume_30:
    alias: TV - Volume 30
    sequence:
      - service: media_player.volume_set
        data: 
          entity_id: media_player.tv_sala
          volume_level: 0.3
  tv_volume_40:
    alias: TV - Volume 40
    sequence:
      - service: media_player.volume_set
        data: 
          entity_id: media_player.tv_sala
          volume_level: 0.4
  tv_volume_50:
    alias: TV - Volume 50
    sequence:
      - service: media_player.volume_set
        data: 
          entity_id: media_player.tv_sala
          volume_level: 0.5
  tv_volume_60:
    alias: TV - Volume 60
    sequence:
      - service: media_player.volume_set
        data: 
          entity_id: media_player.tv_sala
          volume_level: 0.6
  tv_volume_70:
    alias: TV - Volume 70
    sequence:
      - service: media_player.volume_set
        data: 
          entity_id: media_player.tv_sala
          volume_level: 0.7
  tv_volume_80:
    alias: TV - Volume 80
    sequence:
      - service: media_player.volume_set
        data: 
          entity_id: media_player.tv_sala
          volume_level: 0.8
  tv_volume_90:
    alias: TV - Volume 90
    sequence:
      - service: media_player.volume_set
        data: 
          entity_id: media_player.tv_sala
          volume_level: 0.9
                
################################
#                              #
#              PC              #
#                              #
################################

  pc_spento:
    alias: PC Spento
    sequence:
    - service: shell_command.shutdown_z800 

################################
#                              #
#             CLIMA            #
#                              #
################################

  daikin_dry_camera_automation:
    alias: Daikin - Automazione Deumidificatore Camera
    sequence:
    - service: climate.set_hvac_mode
      data:
        entity_id: climate.daikin_camera
        hvac_mode: dry
    - delay: '00:15:00'
    - service: climate.turn_off
      data:
        entity_id: climate.daikin_camera

  daikin_dry_studio_scheduler:
    alias: Daikin - Scheduler Deumidificatore Studio
    sequence:
    - service: climate.set_hvac_mode
      data:
        entity_id: climate.daikin_studio
        hvac_mode: dry
    - delay: '00:20:00'
    - service: climate.turn_off
      data:
        entity_id: climate.daikin_studio

  daikin_dry_camera:
    alias: Daikin - Deumidificatore Camera
    sequence:
    - service: climate.set_hvac_mode
      data:
        entity_id: climate.daikin_camera
        hvac_mode: dry
    - service: climate.set_swing_mode
      data:
        entity_id: climate.daikin_camera
        swing_mode: 3D

  daikin_dry_studio:
    alias: Daikin - Deumidificatore Studio
    sequence:
    - service: climate.set_hvac_mode
      data:
        entity_id: climate.daikin_studio
        hvac_mode: dry
    - service: climate.set_swing_mode
      data:
        entity_id: climate.daikin_studio
        swing_mode: 3D

  daikin_dry_sala:
    alias: Daikin - Deumidificatore Sala
    sequence:
    - service: climate.set_hvac_mode
      data:
        entity_id: climate.daikin_sala
        hvac_mode: dry
    - service: climate.set_swing_mode
      data:
        entity_id: climate.daikin_sala
        swing_mode: 3D

  daikin_heat_camera:
    alias: Daikin - Caldo Camera
    sequence:
    - service: climate.set_temperature
      data:
        entity_id: climate.daikin_camera
        temperature: 24
        hvac_mode: heat
    - service: climate.set_swing_mode
      data:
        entity_id: climate.daikin_camera
        swing_mode: 3D

  daikin_heat_studio:
    alias: Daikin - Caldo Studio
    sequence:
    - service: climate.set_temperature
      data:
        entity_id: climate.daikin_studio
        temperature: 24
        hvac_mode: heat
    - service: climate.set_swing_mode
      data:
        entity_id: climate.daikin_studio
        swing_mode: 3D

  daikin_heat_sala:
    alias: Daikin - Caldo Sala
    sequence:
    - service: climate.set_temperature
      data:
        entity_id: climate.daikin_sala
        temperature: 24
        hvac_mode: heat
    - service: climate.set_swing_mode
      data:
        entity_id: climate.daikin_sala
        swing_mode: 3D

  daikin_cool_camera:
    alias: Daikin - Freddo Camera
    sequence:
    - service: climate.set_temperature
      data:
        entity_id: climate.daikin_camera
        temperature: 24
        hvac_mode: cool
    - service: climate.set_swing_mode
      data:
        entity_id: climate.daikin_camera
        swing_mode: 3D

  daikin_cool_studio:
    alias: Daikin - Freddo Studio
    sequence:
    - service: climate.set_temperature
      data:
        entity_id: climate.daikin_studio
        temperature: 24
        hvac_mode: cool
    - service: climate.set_swing_mode
      data:
        entity_id: climate.daikin_studio
        swing_mode: 3D

  daikin_cool_sala:
    alias: Daikin - Freddo Sala
    sequence:
    - service: climate.set_temperature
      data:
        entity_id: climate.daikin_sala
        temperature: 24
        hvac_mode: cool
    - service: climate.set_swing_mode
      data:
        entity_id: climate.daikin_sala
        swing_mode: 3D

################################
#                              #
#            SHELLY            #
#                              #
################################
  
  update_shelly:
    alias: 'Shelly Update Firmware'
    sequence:
    - service: mqtt.publish
      data:
        topic: shellies/command
        payload: update_fw

################################
#                              #
#          SCENE CASA          #
#                              #
################################

  all_off:
    alias: Spegni Tutto
    sequence:
    - service: light.turn_off
      entity_id: group.luci_casa
    - service: media_player.turn_off
      entity_id: media_player.tv_sala, media_player.appletv_soggiorno
    - service: climate.turn_off
      entity_id: climate.daikin_camera, climate.daikin_sala, climate.daikin_studio

  uscita_casa:
    alias: Uscita Casa
    sequence:
      choose:
        - conditions:
            - condition: time
              after: '05:00:00'
              before: '17:30:00'
          sequence:
            - service: script.turn_on
              entity_id: script.all_off
        - conditions:
            - condition: time
              after: '17:30:01'
              before: '04:59:59'
          sequence:
            - service: script.turn_on
              entity_id: script.all_off
            - delay: '00:00:01'
            - service: light.turn_on
              entity_id: light.luce1
              data:
                brightness: 40
                color_temp: 130

################################
#                              #
#       APPLE TV REMOTE        #
#                              #
################################

  apple_remote_menu:
    alias: AppleTV - Menu
    sequence:
      - service: remote.send_command
        data:
          entity_id: remote.appletv_soggiorno
          command: menu
  apple_remote_select:
    alias: AppleTV - Select
    sequence:
      - service: remote.send_command
        data:
          entity_id: remote.appletv_soggiorno
          command: select
  apple_remote_left:
    alias: AppleTV - Left
    sequence:
      - service: remote.send_command
        data:
          entity_id: remote.appletv_soggiorno
          command: left
  apple_remote_right:
    alias: AppleTV - Right
    sequence:
      - service: remote.send_command
        data:
          entity_id: remote.appletv_soggiorno
          command: right
  apple_remote_up:
    alias: AppleTV - Up
    sequence:
      - service: remote.send_command
        data:
          entity_id: remote.appletv_soggiorno
          command: up
  apple_remote_down:
    alias: AppleTV - Down
    sequence:
      - service: remote.send_command
        data:
          entity_id: remote.appletv_soggiorno
          command: down
  apple_remote_home:
    alias: AppleTV - Home
    sequence:
      - service: remote.send_command
        data:
          entity_id: remote.appletv_soggiorno
          command: home
  apple_remote_home_hold:
    alias: AppleTV - Home Hold
    sequence:
      - service: remote.send_command
        data:
          entity_id: remote.appletv_soggiorno
          command: home_hold
  apple_remote_suspend:
    alias: AppleTV - Sleep
    sequence:
      - service: remote.send_command
        data:
          entity_id: remote.appletv_soggiorno
          command: suspend
  apple_remote_play:
    alias: AppleTV - Play and Power
    sequence:
      - service: remote.send_command
        data:
          entity_id: remote.appletv_soggiorno
          command: play